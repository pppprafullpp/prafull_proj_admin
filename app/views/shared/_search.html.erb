
<% filter = [:name, :status, :order_number,:first_name,:mobile,:email,:start_end_date,:user_type] if local_assigns[:filter].nil? %>


<%if filter.include?(:name)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Name</label>
        <%=f.text_field :name, {:class => 'form-control'}%>
      </div>
    </div>
<%end%>

<%if filter.include?(:user_type)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">User Type</label>
        <%=f.select(:user_type, AppUser::USER_TYPES, { :include_blank => "-Select-"},{:class => 'form-control chosen-select'})%>
      </div>
    </div>
<%end%>

<%if filter.include?(:first_name)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Name</label>
        <%=f.text_field :first_name, {:class => 'form-control'}%>
      </div>
    </div>
<%end%>

<%if filter.include?(:sales_executive_name)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Executive Name</label>
        <%=f.text_field :name, {:class => 'form-control'}%>
      </div>
    </div>
<%end%>

<%if filter.include?(:sales_executive_email)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Executive Email</label>
        <%=f.text_field :email, {:class => 'form-control'}%>
      </div>
    </div>
<%end%>


<%if filter.include?(:enabled)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Enabled</label>
        <%=f.select(:enabled, options_for_select([["Enabled",true],["Disabled",false]]), { :include_blank => "-Profile Status-"},{:class => 'form-control'})%>
      </div>
    </div>
<%end%>

<%if filter.include?(:business_name)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Business Name</label>
        <%=f.text_field :business_name, {:class => 'form-control'}%>
      </div>
    </div>
<%end%>
<%if filter.include?(:lead_spoc_name)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Spoc name</label>
        <%=f.text_field :lead_spoc_name, {:class => 'form-control'}%>
      </div>
    </div>
<%end%>

<%if filter.include?(:lead_spoc_name)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Spoc email</label>
        <%=f.text_field :lead_spoc_email, {:class => 'form-control'}%>
      </div>
    </div>
<%end%>

<%if filter.include?(:lead_name)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Lead Name</label>
        <%=f.text_field :lead_name, {:class => 'form-control'}%>
      </div>
    </div>
<%end%>


<%if filter.include?(:order_id)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Order Number</label>
        <%=f.text_field :order_number, {:class => 'form-control'}%>
      </div>
    </div>
<%end%>

<!-- credit ->  apply now  -> insta services -> conatct  ->  update communica address  -> okay -> update -> save -->
<%if filter.include?(:mobile)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Mobile</label>
        <%=f.text_field :mobile, {:class => 'form-control'}%>
      </div>
    </div>
<%end%>

<%if filter.include?(:email)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Email</label>
        <%=f.text_field :email, {:class => 'form-control'}%>
      </div>
    </div>
<%end%>

<%if filter.include?(:order_number)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Order Number</label>
        <%=f.text_field :order_number, {:class => 'form-control'}%>
      </div>
    </div>
<%end%>

<%if filter.include?(:order_status)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Order Status</label>
        <%=f.select(:status, Order.pluck(:status).uniq.to_a, { :include_blank => "-Select-", :selected => 0},{:class => 'form-control select'})%>
      </div>
    </div>
<%end%>

<%if filter.include?(:start_end_date)%>
    <div>
      <div class="col-sm-4 w-220 date">
        <div class="form-group">
          <label class="control-label">Start Date</label>
          <div class="input-group date" id="start_date">
            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
            <%=f.text_field :start_date, {:class => 'input-sm form-control'}%>
          </div>
        </div>
      </div>
      <div class="col-sm-4 w-220 date">
        <div class="form-group">
          <label class="control-label">End Date</label>
          <div class="input-group date" id="end_date">
            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
            <%=f.text_field :end_date, {:class => 'input-sm form-control'}%>
          </div>
        </div>
      </div>
    </div>
<%end%>

<%if filter.include?(:status)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Status</label>
        <%=f.select(:status, get_statuses, {:include_blank => "-Select-"},{:class => 'form-control chosen-select'})%>
      </div>
    </div>
<%end%>
<%if filter.include?(:title)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Status</label>
        <%=f.text_field:title, {:placeholder => "Enter Deal name ",:class => 'input-sm form-control' }%>
      </div>
    </div>
<%end%>

<%if filter.include?(:service_category_id)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Deal Category</label>
        <%=f.select(:service_category_id, ServiceCategory.pluck(:name,:id).first(5),{:include_blank => "-Select Category-"},{:class => 'form-control select-chosen'})%>
      </div>
    </div>
<%end%>


<%if filter.include?(:service_provider_id)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Service Provider</label>
        <%=f.select(:service_provider_id, ServiceProvider.pluck(:name,:id).uniq,{:include_blank => "-Select Provider-"},{:class => 'form-control select-chosen'})%>
      </div>
    </div>
<%end%>


<%if filter.include?(:deal_type)%>
    <div class="col-sm-4 w-220">
      <div class="form-group">
        <label class="control-label">Deal Type</label>
        <%=f.select(:deal_type, [["Business","business"],["Residence","residence"]],{:include_blank => "-Select Deal Type-"},{:class => 'form-control select'})%>
      </div>
    </div>
<%end%>


<div style="padding: 22px 0 0 0">
  <%=f.submit "Search",:class=>"btn btn-primary btn-sm"%>
  <%= link_to('Clear', cancel_url,:class=>"btn btn-white btn-sm") if cancel_url.present? %>
</div>

<script type="text/javascript">
    $(document).ready(function() {

        <%if filter.include?(:name)%>
        $('#search_name').val('<%= params[:search][:name] if params[:search].present? %>')
        <%end%>

        <%if filter.include?(:first_name)%>
        $('#search_first_name').val('<%= params[:search][:first_name] if params[:search].present? %>')
        <%end%>

        <%if filter.include?(:mobile)%>
        $('#search_mobile').val('<%= params[:search][:mobile] if params[:search].present? %>')
        <%end%>

        <%if filter.include?(:email)%>
        $('#search_email').val('<%= params[:search][:email] if params[:search].present? %>')
        <%end%>

        <%if filter.include?(:status)%>
        $('#search_status').val(<%= params[:search][:status] if params[:search].present? %>)
        <%end%>

        <%if filter.include?(:order_number)%>
        $('#search_order_number').val(<%= params[:search][:order_number] if params[:search].present? %>)
        <%end%>

        <%if filter.include?(:start_end_date)%>
        $('#search_start_date').val('<%= params[:search][:start_date] if params[:search].present? %>')
        $('#search_end_date').val('<%= params[:search][:end_date] if params[:search].present?  %>')
        <%end%>

        <%if filter.include?(:user_type)%>
        $('#search_user_type').val(<%= params[:search][:user_type] if params[:search].present? %>)
        <%end%>

    });
</script>
